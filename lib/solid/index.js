var e=require("solid-js/web"),t=require("solid-js");const r=null,n=Math.min,o=Math.max,s=Math.abs,i=setTimeout,l=(e,t,r)=>n(r,o(t,e)),c="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},u=e=>{let t,r;return(...n)=>(t||(t=!0,r=e(...n)),r)},a=-1,f=(e,t,r)=>{const n=r?"unshift":"push";for(let r=0;r<t;r++)e[n](a);return e},d=(e,t)=>{const r=e.o[t];return r===a?e.i:r},h=(e,t,r)=>{const o=e.o[t]===a;return e.o[t]=r,e.l=n(t,e.l),o},g=(e,t)=>{if(!e.u)return 0;if(e.l>=t)return e.h[t];e.l<0&&(e.h[0]=0,e.l=0);let r=e.l,n=e.h[r];for(;r<t;)n+=d(e,r),e.h[++r]=n;return e.l=t,n},_=(e,t,r)=>{for(;r>=0&&r<e.u;){const n=g(e,r);if(n<=t){if(n+d(e,r)>t)break;r++}else r--}return l(r,0,e.u-1)},v=(e,t,r)=>{const o=t-e.u;return e.l=r?-1:n(t-1,e.l),e.u=t,o>0?(f(e.h,o),f(e.o,o,r),e.i*o):(e.h.splice(o),(r?e.o.splice(0,-o):e.o.splice(o)).reduce(((t,r)=>t-(r===a?e.i:r)),0))},p="undefined"!=typeof window,w=()=>document.documentElement,m=e=>e.ownerDocument,b=e=>e.defaultView,S=/*#__PURE__*/u((()=>!!p&&"rtl"===getComputedStyle(w()).direction)),y=/*#__PURE__*/u((()=>/iP(hone|od|ad)/.test(navigator.userAgent))),z=/*#__PURE__*/u((()=>"scrollBehavior"in w().style)),x=(e,t,r,s,i)=>(1!==s&&(e-=o(0,r)),2!==s&&(t+=o(0,r)),[o(e,0),n(t,i-1)]),k=(e,t=40,i=0,l,c=!1)=>{let u=!!i,p=[],w=0,m=0,b=0,S=0,z=0,x=0,k=0,I=0,M=0,T=u?[0,o(i-1,0)]:r,R=[0,0],C=0;const J=((e,t)=>({i:t,o:f([],e),u:e,l:-1,h:f([],e)}))(e,t),O=new Set,q=()=>b-m,P=e=>((e,t,r,o)=>{const s=_(e,t,n(r,e.u-1));return[s,_(e,t+o,s)]})(J,e,R[0],w),B=()=>(e=>e.u?g(e,e.u-1)+d(e,e.u-1):0)(J),D=e=>g(J,e)-x,E=e=>d(J,e),H=e=>{e&&(y()&&0!==I?x+=e:(z+=e,S++))};return{_:()=>p,v:()=>(e=>[[...e.o],e.i])(J),p:()=>k?R:(R=P(o(0,q()+x+z)),T?[n(R[0],T[0]),o(R[1],T[1])]:R),m:e=>J.o[e]===a,S:()=>!!w,k:()=>!!T&&J.o.slice(o(0,T[0]-1),n(J.u-1,T[1]+1)+1).includes(a),I:D,M:E,T:()=>J.u,R:()=>b,C:()=>I,J:()=>w,O:()=>m,q:B,P:()=>S,B:()=>(k=z,z=0,[k,2===M||q()+w>=B()]),D(e,t){const r=[e,t];return O.add(r),()=>{O.delete(r)}},H(e,t){let n,i,l=0;switch(e){case 1:{const e=k;k=0;const n=t-b,o=s(n);e&&o<s(e)+1||0!==M||(I=n<0?2:1),u&&(T=r,u=!1),b=t,l=4;const c=q();c>=-w&&c<=B()&&(l+=1,i=o>w);break}case 2:l=8,0!==I&&(n=!0,l+=1),I=0,M=0,T=r;break;case 3:{const e=t.filter((([e,t])=>J.o[e]!==t));if(!e.length)break;H(e.reduce(((e,[t,r])=>((2===M||(T?t<T[0]:D(t)+(0===I&&0===M?E(t):0)<q()))&&(e+=r-E(t)),e)),0));for(const[t,r]of e){const e=E(t),n=h(J,t,r);c&&(C+=n?r:r-e)}c&&w&&C>w&&(H(((e,t)=>{let r=0;const n=e.o.filter(((e,n)=>{const o=e!==a;return o&&n<t&&r++,o})),s=e.i;return e.l=-1,((e.i=(e=>{const t=(e=>[...e].sort(((e,t)=>e-t)))(e),r=e.length/2|0;return t.length%2==0?(t[r-1]+t[r])/2:t[r]})(n))-s)*o(t-r,0)})(J,R[0])),c=!1),l=3,i=!0;break}case 4:w!==t&&(w=t,l=3);break;case 5:t[1]?(H(v(J,t[0],!0)),M=2,l=1):v(J,t[0]);break;case 6:m=t;break;case 7:M=1;break;case 8:T=P(t),l=1}l&&(p=[],n&&x&&(z+=x,x=0,S++),O.forEach((([e,t])=>{l&e&&t(i)})))}}},I=e=>{let t;return{L(r){(t||(t=new(b(m(r)).ResizeObserver)(e))).observe(r)},W(e){t.unobserve(e)},j(){t&&t.disconnect()}}},M=(e,t)=>t&&S()?-e:e,T=(e,t,n,o,s,l)=>{const c=Date.now;let u=0,a=!1,f=!1,d=!1,h=!1;const g=(()=>{let t;const n=()=>{t!=r&&clearTimeout(t)},o=()=>{n(),t=i((()=>{t=r,(()=>{if(a||f)return a=!1,void g();d=!1,e.H(2)})()}),150)};return o.U=n,o})(),_=()=>{u=c(),d&&(h=!0),l&&e.H(6,l()),e.H(1,o()),g()},v=t=>{if(a||0===e.C()||t.ctrlKey)return;const r=c()-u;150>r&&50<r&&(n?t.deltaX:t.deltaY)&&(a=!0)},p=()=>{f=!0,d=h=!1},w=()=>{f=!1,y()&&(d=!0)};return t.addEventListener("scroll",_),t.addEventListener("wheel",v,{passive:!0}),t.addEventListener("touchstart",p,{passive:!0}),t.addEventListener("touchend",w,{passive:!0}),{j:()=>{t.removeEventListener("scroll",_),t.removeEventListener("wheel",v),t.removeEventListener("touchstart",p),t.removeEventListener("touchend",w),g.U()},V:()=>{const[t,r]=e.B();t&&(s(M(t,n),r,h),h=!1,r&&e.J()>e.q()&&e.H(1,o()))}}},R=r=>{let n;r=t.mergeProps({X:"div"},r),t.createEffect((()=>{n&&t.onCleanup(r.Y(n,r.F))}));const o=t.createMemo((()=>{const e=r.A,t={margin:0,padding:0,position:"absolute",[e?"height":"width"]:"100%",[e?"top":"left"]:"0px",[e?S()?"right":"left":"top"]:r.G+"px",visibility:r.K?"hidden":"visible"};return e&&(t.display="flex"),t}));return e.createComponent(e.Dynamic,{get component(){return r.X},ref(e){"function"==typeof n?n(e):n=e},get style(){return o()},get children(){return r.N}})},C=e=>{let r=new Map;return t.onCleanup((()=>{for(const e of r.values())e.j()})),t.createMemo((()=>{const n=e.Z,[o,s]=e.$,i=new Map,l=[];for(let c=o;c<=s;c++){const o=n[c],s=r.get(c);l.push(s?s.ee:t.createRoot((r=>{const n=t.createSignal(o),s=e.te(n[0],c);return i.set(c,{re:n,ee:s,j:r}),s}))),s&&(o!==s.re&&s.re[1](o),i.set(c,s))}for(const[e,t]of r.entries())i.has(e)||t.j();return r=i,l}))},J=(e,t)=>e[0]===t[0]&&e[1]===t[1],O=n=>{let s;const{itemSize:u,horizontal:a=!1}=n;n=t.mergeProps({as:"div"},n);const f=k(n.data.length,null!=u?u:40,void 0,0,!u),d=((e,t)=>{let n;const o=t?"width":"height",s=new WeakMap,i=I((t=>{const i=[];for(const{target:l,contentRect:c}of t)if(l.offsetParent)if(l===n)e.H(4,c[o]);else{const e=s.get(l);e!=r&&i.push([e,c[o]])}i.length&&e.H(3,i)}));return{ne(e){i.L(n=e)},oe:(e,t)=>(s.set(e,t),i.L(e),()=>{s.delete(e),i.W(e)}),j:i.j}})(f,a),h=((e,t)=>{let r,n,o;const s=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",a=async(n,l)=>{if(!r)return void c((()=>a(n,l)));o&&o();const u=()=>{let t;return[new Promise(((r,n)=>{t=r,o=n,e.S()&&i(n,150)})),e.D(2,(()=>{t&&t()}))]};if(l&&z()){for(;e.H(8,n()),e.k();){const[e,t]=u();try{await e}catch(e){return}finally{t()}}r.scrollTo({[t?"left":"top"]:M(n(),t),behavior:"smooth"})}else for(;;){const[o,i]=u();try{r[s]=M(n(),t),e.H(7),await o}catch(e){return}finally{i()}}};return{L(l){r=l,n=T(e,l,t,(()=>M(l[s],t)),((t,r,n)=>{if(n){const e=l.style,t=e[u];e[u]="hidden",i((()=>{e[u]=t}))}r?(l[s]=e.R()+t,o&&o()):l[s]+=t}))},j(){n&&n.j()},se(e){a((()=>e))},ie(t){t+=e.R(),a((()=>t))},le(t,{align:r,smooth:n,offset:o=0}={}){if(t=l(t,0,e.T()-1),"nearest"===r){const n=e.I(t),o=e.R();if(n<o)r="start";else{if(!(n+e.M(t)>o+e.J()))return;r="end"}}a((()=>o+e.O()+e.I(t)+("end"===r?e.M(t)-e.J():"center"===r?(e.M(t)-e.J())/2:0)),n)},V:()=>{n&&n.V()}}})(f,a),[g,_]=t.createSignal(f._()),v=f.D(1,(()=>{_(f._())})),p=f.D(4,(()=>{var e;null===(e=n.onScroll)||void 0===e||e.call(n,f.R())})),w=f.D(8,(()=>{var e;null===(e=n.onScrollEnd)||void 0===e||e.call(n)})),m=t.createMemo((e=>{g();const t=f.p();return e&&J(e,t)?e:t})),b=t.createMemo((()=>g()&&f.C())),S=t.createMemo((()=>g()&&f.q())),y=t.createMemo((()=>g()&&f.P())),O=t.createMemo((e=>{var t;const r=null!==(t=n.overscan)&&void 0!==t?t:4,[o,s]=m(),i=x(o,s,r,b(),n.data.length);return e&&J(e,i)?e:i}));return t.onMount((()=>{n.ref&&n.ref({get scrollOffset(){return f.R()},get scrollSize(){return(e=>o(e.q(),e.J()))(f)},get viewportSize(){return f.J()},getItemOffset:f.I,scrollToIndex:h.le,scrollTo:h.se,scrollBy:h.ie});const e=n.scrollRef||s.parentElement;d.ne(e),h.L(e),t.onCleanup((()=>{n.ref&&n.ref(),v(),p(),w(),d.j(),h.j()}))})),t.createComputed(t.on((()=>n.data.length),(e=>{e!==f.T()&&f.H(5,[e,n.shift])}))),t.createComputed(t.on((()=>n.startMargin||0),(e=>{e!==f.O()&&f.H(6,e)}))),t.createEffect(t.on(y,(()=>{h.V()}))),t.createEffect((()=>{const e=m();n.onRangeChange&&n.onRangeChange(e[0],e[1])})),e.createComponent(e.Dynamic,{get component(){return n.as},ref(e){"function"==typeof s?s(e):s=e},get style(){return{"overflow-anchor":"none",flex:"none",position:"relative",visibility:"hidden",width:a?S()+"px":"100%",height:a?"100%":S()+"px","pointer-events":0!==b()?"none":"auto"}},get children(){return e.createComponent(C,{get Z(){return n.data},get $(){return O()},te:(r,o)=>{const s=t.createMemo((()=>(g(),f.I(o)))),i=t.createMemo((()=>(g(),f.m(o))));return e.createComponent(R,{get X(){return n.item},F:o,get Y(){return d.oe},get G(){return s()},get K(){return i()},get N(){return n.children(r(),o)},A:a})}})}})};var q=/*#__PURE__*/e.template("<div>"),P=/*#__PURE__*/e.template("<div>");exports.VList=t=>{const{ref:r,data:n,children:o,overscan:s,itemSize:i,shift:l,horizontal:c,onScroll:u,onScrollEnd:a,onRangeChange:f,style:d,...h}=t;return g=q(),e.spread(g,e.mergeProps(h,{get style(){return{display:c?"inline-block":"block",[c?"overflow-x":"overflow-y"]:"auto",contain:"strict",width:"100%",height:"100%",...t.style}}}),!1,!0),e.insert(g,e.createComponent(O,{ref(e){var r=t.ref;"function"==typeof r?r(e):t.ref=e},get data(){return t.data},get overscan(){return t.overscan},get itemSize(){return t.itemSize},get shift(){return t.shift},horizontal:c,get onScroll(){return t.onScroll},get onScrollEnd(){return t.onScrollEnd},get onRangeChange(){return t.onRangeChange},get children(){return t.children}})),g;var g},exports.Virtualizer=O,exports.WindowVirtualizer=n=>{let o;const{data:s,children:i,overscan:c,itemSize:u,shift:a,horizontal:f=!1,onScrollEnd:d,onRangeChange:h}=n,g=k(n.data.length,null!=u?u:40,void 0,0,!u),_=((e,t)=>{const n=t?"width":"height",o=t?"innerWidth":"innerHeight",s=new WeakMap,i=I((t=>{const o=[];for(const{target:e,contentRect:i}of t){if(!e.offsetParent)continue;const t=s.get(e);t!=r&&o.push([t,i[n]])}o.length&&e.H(3,o)}));let l;return{ne(t){const r=b(m(t)),n=()=>{e.H(4,r[o])};r.addEventListener("resize",n),n(),l=()=>{r.removeEventListener("resize",n)}},oe:(e,t)=>(s.set(e,t),i.L(e),()=>{s.delete(e),i.W(e)}),j(){l&&l(),i.j()}}})(g,f),v=((e,t)=>{let r;return{L(n){const o=t?"scrollX":"scrollY",s=m(n),i=b(s),l=s.body,c=(e,t,r,n=0)=>{const o=r?"offsetLeft":"offsetTop",s=n+(r&&S()?i.innerWidth-e[o]-e.offsetWidth:e[o]),l=e.offsetParent;return e!==t&&l?c(l,t,r,s):s};r=T(e,i,t,(()=>M(i[o],t)),((r,n)=>{n?i.scroll({[t?"left":"top"]:e.R()+r}):i.scrollBy(t?r:0,t?0:r)}),(()=>c(n,l,t)))},j(){r&&r.j()},V:()=>{r&&r.V()},le:async(r,n={})=>{const o=n.align||"start",s=n.smooth,i=n.offset||0;r=l(r,0,e.T()-1);const c=e.I(r),u=e.J(),a=e.M(r);let f=c+i;if("end"===o)f+=a-u;else if("center"===o)f+=(a-u)/2;else if("nearest"===o){const t=e.R();if(c<t)f=c+i;else{if(!(c+a>t+u))return;f=c+a-u+i}}e.H(8,f);const d=M(f,t);s&&z()?window.scrollTo({[t?"left":"top"]:d,behavior:"smooth"}):window.scrollTo({[t?"left":"top"]:d}),await new Promise((e=>{window.requestAnimationFrame(e)})),e.H(7)}}})(g,f),[p,w]=t.createSignal(g._()),y=g.D(1,(()=>{w(g._())})),O=g.D(8,(()=>{var e;null===(e=n.onScrollEnd)||void 0===e||e.call(n)})),q=t.createMemo((e=>{p();const t=g.p();return e&&J(e,t)?e:t})),B=t.createMemo((()=>p()&&g.C())),D=t.createMemo((()=>p()&&g.q())),E=t.createMemo((()=>p()&&g.P())),H=t.createMemo((e=>{var t;const r=null!==(t=n.overscan)&&void 0!==t?t:4,[o,s]=q(),i=x(o,s,r,B(),n.data.length);return e&&J(e,i)?e:i}));return t.onMount((()=>{_.ne(o),v.L(o),t.onCleanup((()=>{y(),O(),_.j(),v.j()}))})),t.createComputed(t.on((()=>n.data.length),(e=>{e!==g.T()&&g.H(5,[e,n.shift])}))),t.createEffect(t.on(E,(()=>{v.V()}))),t.createEffect((()=>{const e=q();n.onRangeChange&&n.onRangeChange(e[0],e[1])})),L=P(),"function"==typeof(W=o)?e.use(W,L):o=L,L.style.setProperty("overflow-anchor","none"),L.style.setProperty("flex","none"),L.style.setProperty("position","relative"),L.style.setProperty("visibility","hidden"),e.insert(L,e.createComponent(C,{get Z(){return n.data},get $(){return H()},te:(r,o)=>{const s=t.createMemo((()=>(p(),g.I(o)))),i=t.createMemo((()=>(p(),g.m(o))));return e.createComponent(R,{F:o,get Y(){return _.oe},get G(){return s()},get K(){return i()},get N(){return n.children(r(),o)},A:f})}})),e.effect((e=>{var t=f?D()+"px":"100%",r=f?"100%":D()+"px",n=0!==B()?"none":"auto";return t!==e.e&&(null!=(e.e=t)?L.style.setProperty("width",t):L.style.removeProperty("width")),r!==e.t&&(null!=(e.t=r)?L.style.setProperty("height",r):L.style.removeProperty("height")),n!==e.a&&(null!=(e.a=n)?L.style.setProperty("pointer-events",n):L.style.removeProperty("pointer-events")),e}),{e:void 0,t:void 0,a:void 0}),L;var L,W};
//# sourceMappingURL=index.js.map
